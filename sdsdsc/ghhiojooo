{
  "annotations": { "list": [] },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 0,
  "id": null,
  "iteration": 162,
  "links": [],
  "panels": [
    { "type":"row","title":"SUMMARY — Aggregated (job_details)","collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":1 },

    /* SUMMARY: Average Duration (4 windows) */
    {
      "type":"stat",
      "title":"Summary — Avg Duration (Today)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_average_duration{job_details=\"$jobDetails\",window=\"today\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":0,"y":1},
      "id":2
    },
    {
      "type":"stat",
      "title":"Summary — Avg Duration (Yesterday)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_average_duration{job_details=\"$jobDetails\",window=\"yesterday\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":6,"y":1},
      "id":3
    },
    {
      "type":"stat",
      "title":"Summary — Avg Duration (Last 7 Days)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_average_duration{job_details=\"$jobDetails\",window=\"last_7_days\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":12,"y":1},
      "id":4
    },
    {
      "type":"stat",
      "title":"Summary — Avg Duration (Last 30 Days)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_average_duration{job_details=\"$jobDetails\",window=\"last_30_days\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":18,"y":1},
      "id":5
    },

    /* SUMMARY: Total Trades (4 windows) */
    {
      "type":"stat",
      "title":"Summary — Total Trades (Today)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_total_trades{job_details=\"$jobDetails\",window=\"today\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":0,"y":5},
      "id":6
    },
    {
      "type":"stat",
      "title":"Summary — Total Trades (Yesterday)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_total_trades{job_details=\"$jobDetails\",window=\"yesterday\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":6,"y":5},
      "id":7
    },
    {
      "type":"stat",
      "title":"Summary — Total Trades (Last 7 Days)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_total_trades{job_details=\"$jobDetails\",window=\"last_7_days\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":12,"y":5},
      "id":8
    },
    {
      "type":"stat",
      "title":"Summary — Total Trades (Last 30 Days)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_total_trades{job_details=\"$jobDetails\",window=\"last_30_days\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":18,"y":5},
      "id":9
    },

    /* SUMMARY: Job Count (4 windows) */
    {
      "type":"stat",
      "title":"Summary — Job Count (Today)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_jobcount{job_details=\"$jobDetails\",window=\"today\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":0,"y":9},
      "id":10
    },
    {
      "type":"stat",
      "title":"Summary — Job Count (Yesterday)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_jobcount{job_details=\"$jobDetails\",window=\"yesterday\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":6,"y":9},
      "id":11
    },
    {
      "type":"stat",
      "title":"Summary — Job Count (Last 7 Days)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_jobcount{job_details=\"$jobDetails\",window=\"last_7_days\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":12,"y":9},
      "id":12
    },
    {
      "type":"stat",
      "title":"Summary — Job Count (Last 30 Days)",
      "datasource":"Prometheus",
      "targets":[{"expr":"new_data_summary_stats_jobcount{job_details=\"$jobDetails\",window=\"last_30_days\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":18,"y":9},
      "id":13
    },

    /* ROW BREAK: Non-Summary */
    { "type":"row","title":"NON-SUMMARY — Aggregated (bp_name, thread_id, job_id, job_details)","collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":13},"id":14 },

    /* NON-SUMMARY: Duration (4 windows) */
    {
      "type":"stat",
      "title":"NonSummary — Duration (Today)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_duration{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"today\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":0,"y":14},
      "id":15
    },
    {
      "type":"stat",
      "title":"NonSummary — Duration (Yesterday)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_duration{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"yesterday\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":6,"y":14},
      "id":16
    },
    {
      "type":"stat",
      "title":"NonSummary — Duration (Last 7 Days)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_duration{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"last_7_days\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":12,"y":14},
      "id":17
    },
    {
      "type":"stat",
      "title":"NonSummary — Duration (Last 30 Days)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_duration{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"last_30_days\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":18,"y":14},
      "id":18
    },

    /* NON-SUMMARY: No of Trades (4 windows) */
    {
      "type":"stat",
      "title":"NonSummary — No. of Trades (Today)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_no_of_trades{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"today\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":0,"y":18},
      "id":19
    },
    {
      "type":"stat",
      "title":"NonSummary — No. of Trades (Yesterday)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_no_of_trades{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"yesterday\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":6,"y":18},
      "id":20
    },
    {
      "type":"stat",
      "title":"NonSummary — No. of Trades (Last 7 Days)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_no_of_trades{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"last_7_days\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":12,"y":18},
      "id":21
    },
    {
      "type":"stat",
      "title":"NonSummary — No. of Trades (Last 30 Days)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_no_of_trades{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"last_30_days\",stat=\"sum\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":18,"y":18},
      "id":22
    },

    /* NON-SUMMARY: DurationPerTrade (4 windows) */
    {
      "type":"stat",
      "title":"NonSummary — Duration/Trade (Today)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_durationpertrade{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"today\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":0,"y":22},
      "id":23
    },
    {
      "type":"stat",
      "title":"NonSummary — Duration/Trade (Yesterday)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_durationpertrade{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"yesterday\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":6,"y":22},
      "id":24
    },
    {
      "type":"stat",
      "title":"NonSummary — Duration/Trade (Last 7 Days)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_durationpertrade{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"last_7_days\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":12,"y":22},
      "id":25
    },
    {
      "type":"stat",
      "title":"NonSummary — Duration/Trade (Last 30 Days)","datasource":"Prometheus",
      "targets":[{"expr":"new_data_non_summary_stats_durationpertrade{bp_name=\"$bpName\",thread_id=\"$threadId\",job_id=\"$jobId\",job_details=\"$jobDetails\",window=\"last_30_days\",stat=\"avg\"}","refId":"A"}],
      "gridPos":{"h":4,"w":6,"x":18,"y":22},
      "id":26
    }
  ],
  "refresh": "5m",
  "schemaVersion": 36,
  "style": "dark",
  "tags": ["bp","aggregates","summary","non-summary"],
  "templating": {
    "list": [
      {
        "name": "jobDetails",
        "type": "query",
        "label": "Job Details",
        "datasource": "Prometheus",
        "query": "label_values(new_data_summary_stats_average_duration, job_details)",
        "refresh": 2,
        "multi": false,
        "includeAll": false,
        "options": []
      },
      {
        "name": "bpName",
        "type": "query",
        "label": "BP Name",
        "datasource": "Prometheus",
        "query": "label_values(new_data_non_summary_stats_duration, bp_name)",
        "refresh": 2,
        "multi": false,
        "includeAll": false,
        "options": []
      },
      {
        "name": "threadId",
        "type": "query",
        "label": "Thread ID",
        "datasource": "Prometheus",
        "query": "label_values(new_data_non_summary_stats_duration{bp_name=\"$bpName\"}, thread_id)",
        "refresh": 2,
        "multi": false,
        "includeAll": false,
        "options": []
      },
      {
        "name": "jobId",
        "type": "query",
        "label": "Job ID",
        "datasource": "Prometheus",
        "query": "label_values(new_data_non_summary_stats_duration{bp_name=\"$bpName\", thread_id=\"$threadId\"}, job_id)",
        "refresh": 2,
        "multi": false,
        "includeAll": false,
        "options": []
      }
    ]
  },
  "time": { "from": "now-30d", "to": "now" },
  "timepicker": {
    "refresh_intervals": ["5s","10s","30s","1m","5m","15m","30m","1h","6h","12h","24h"],
    "time_options": ["Today","Yesterday","7d","30d","90d","6M","1y"]
  },
  "title": "BP Processing — Aggregated (Summary & Non-Summary)",
  "uid": "bp-processing-aggregated-v1",
  "version": 1
}